connections: # Define all the data connections, in this case the brands and products MongoDB collections
  - id: brands # The connectionId that will be used when defining requests and mutations on our pages
    type: MongoDBCollection # The type of connection
    properties:
      databaseName: example-crud # The database in which the collections are stored
      collection: brands # The collection name
      databaseUri:
        _secret: lowdefy_examples_mdb # The database connection uri that is stored as a secrect and accessed using the _secret operator
      write: true # Allows writes to the database. By default reads are allowed but writes are not
  - id: products
    type: MongoDBCollection
    properties:
      databaseName: example-crud
      collection: products
      databaseUri:
        _secret: lowdefy_examples_mdb
      write: true

menus: # Menus used in the app can be listed here
  - id: main_menu
    links:
      - id: brands # Define the menu link that directs to the brands page
        type: MenuLink
        pageId: brands # Id of the brands page
        properties:
          title: Brands # Title to show on the menu
      - id: products
        type: MenuLink
        pageId: products
        properties:
          title: Products

pages: # All the pages in the app are listed here
  - _ref: brands.yaml # Instead of defining the a page in the lowdefy.yaml file, it is defined in its own .yaml file and referenced here
  - _ref: new_brand.yaml
  - _ref: edit_brand.yaml
  - _ref: products.yaml
